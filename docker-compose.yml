version: '3.8'

servics:
  glpi_bot:
    build:
      context: .
      dockerfile: Dockerfile
    image: glpi_bot
    container_name: gbc
    restart: unless-stopped
    environment:
      - GLPI_TG_CONFIG_DIR=${GLPI_TG_CONFIG_DIR}
      - GLPI_TG_DATA_DIR=${GLPI_TG_DATA_DIR}

    volumes:
      - "${GLPI_TG_CONFIG_DIR}:/configs"
      - "${GLPI_TG_DATA_DIR}:/data"
    networks:
      - internal

  ad_api:
    build:
      context: $AD_API_DOCKERFILE
      dockerfile: Dockerfile
    image: ad_api
    container_name: aac
    restart: unless-stopped
    ports:
      - "82:8000"

networks:
  internal:
    driver: bridge
